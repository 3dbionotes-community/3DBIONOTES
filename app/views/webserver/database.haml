= stylesheet_link_tag href="https://www.w3schools.com/w3css/4/w3.css"
= stylesheet_link_tag('webserver/help_style.css')

.ws_main_div
  .database_form
    = form_tag({controller: "main", action: "home",anchor: "query"}, :method => :post, :multipart => true, id: "query_form",:style=>"margin-top:20px;") do 
      %table
        %tr
          %td
            %h3
              Query by entry ID
              = text_field_tag(:queryId, nil, placeholder: 'Uniprot accession,PDB ID,EMDB code')
              = hidden_field_tag(:viewer_type,@viewerType)
              = button_tag("Query")
          %td
          %td
            %h4
              You may also upload your own annotations
              %a{target:'_blank', title:'Example file for PDB 4G3X' , href:'/4g3x_ann_full_example.json'}
              = image_tag("help_icon.png", height: '12', width: '12')
              = file_field_tag(:annotations_file, {style:"font-size:12px;"})

  %hr.dashed
  #examples.w3-container
    %h3 Selected entries

    .example.w3-card.w3-hover-shadow.w3-light-grey.w3-third.w3-center
      %h4 EMD-7573
      %p SARS Spike Glycoprotein, Stabilized variant, C3 symmetry
      = link_to image_tag('https://www.ebi.ac.uk/pdbe/static/entry/EMD-7573/400_7573.gif', alt: 'EMD-7573', height: '150', width: '', class: 'w3-button w3-bar-item w3-circle'), '/?queryId=EMD-7573&viewer_type=ngl&button=#query'

    .example.w3-card.w3-hover-shadow.w3-light-grey.w3-third.w3-center
      %h4 EMD-8069
      %p Prefusion structure of a human coronavirus spike protein
      = link_to image_tag('https://www.ebi.ac.uk/pdbe/static/entry/EMD-8069/400_8069.gif', alt: 'EMD-8069', height: '150', width: '', class: 'w3-button w3-bar-item w3-circle'), '/?queryId=EMD-8069&viewer_type=ngl&button=#query'


    .example.w3-card.w3-hover-shadow.w3-light-grey.w3-third.w3-center
      %h4 6VSB
      %p Prefusion 2019-nCoV spike glycoprotein with a single receptor-binding domain up
      = link_to image_tag('https://www.ebi.ac.uk/pdbe/static/entry/6vsb_deposited_chain_front_image-200x200.png', alt: 'EMD-7573', height: '150', width: '', class: 'w3-button w3-bar-item w3-circle'), '/?queryId=6VSB&viewer_type=ngl&button=#query'






  %hr.solid

.cv_prot_list
  %h3 SARS-CoV-2 virus proteome

  .index_map
    %table.w3-table-all.w3-card-4
      %tr
        %td.w3-tag.w3-round.w3-dark-gray.w3-center{:colspan => 11}
          .index1
            %a{:href=>"#R1a"} R1a
      %tr
        %td.w3-tag.w3-round.w3-gray{:rowspan => 2}
          .index2
            %a{:href=>"#NSP1"} NSP1
        %td.w3-tag.w3-round.w3-gray{:rowspan => 2}
          .index2
            %a{:href=>"#NSP2"} NSP2
        %td.w3-tag.w3-round.w3-blue-gray{:rowspan => 2}
          .index2
            %a{:href=>"#NSP3"} PL-Pro
        %td.w3-tag.w3-round.w3-gray{:rowspan => 2}
          .index2
            %a{:href=>"#NSP4"} NSP4
        %td.w3-tag.w3-round.w3-blue-gray{:rowspan => 2}
          .index2
            %a{:href=>"#NSP5"} 3CL
        %td.w3-tag.w3-round.w3-gray{:rowspan => 2}
          .index2
            %a{:href=>"#NSP6"} NSP6
        %td.w3-tag.w3-round.w3-gray{:rowspan => 2}
          .index2
            %a{:href=>"#NSP7"} NSP7
        %td.w3-tag.w3-round.w3-gray{:rowspan => 2}
          .index2
            %a{:href=>"#NSP8"} NSP8
        %td.w3-tag.w3-round.w3-gray{:rowspan => 2}
          .index2
            %a{:href=>"#NSP9"} NSP9
        %td.w3-tag.w3-round.w3-gray{:rowspan => 2}
          .index2
            %a{:href=>"#NSP10"} NSP10
        %td.w3-tag.w3-round.w3-gray{:rowspan => 2}
          .index2
            %a{:href=>"#NSP11"} NSP11
        %td.w3-tag.w3-tag.w3-round.w3-white{:colspan => 5}
        %td.w3-tag.w3-tag.w3-round.w3-blue
          .index2
            %a{:href=>"#S"} S
        %td.w3-tag.w3-tag.w3-round.w3-white{:colspan => 2}
        %td.w3-tag.w3-tag.w3-round.w3-lime
          .index2
            %a{:href=>"#M"} M
        %td.w3-tag.w3-tag.w3-round.w3-white
        %td.w3-tag.w3-tag.w3-round.w3-deep-orange
          .index2
            %a{:href=>"#NS7a"} NS7a
        %td.w3-tag.w3-tag.w3-round.w3-white
        %td.w3-tag.w3-tag.w3-round.w3-brown
          .index2
            %a{:href=>"#NS8"} NS8
        %td.w3-tag.w3-tag.w3-round.w3-white
        %td.w3-tag.w3-tag.w3-round.w3-green
          .index2
            %a{:href=>"#N"} N
      %tr
        %td.w3-tag.w3-round.w3-gray
          .index2
            %a{:href=>"#NSP12"} NSP12
        %td.w3-tag.w3-round.w3-gray
          .index2
            %a{:href=>"#NSP13"} NSP13
        %td.w3-tag.w3-round.w3-gray
          .index2
            %a{:href=>"#NSP14"} NSP14
        %td.w3-tag.w3-round.w3-gray
          .index2
            %a{:href=>"#NSP15"} NSP15
        %td.w3-tag.w3-round.w3-gray
          .index2
            %a{:href=>"#NSP16"} NSP16
        %td.w3-tag.w3-tag.w3-round.w3-white
        %td.w3-tag.w3-tag.w3-round.w3-orange
          .index2
            %a{:href=>"#NS3a"} NS3a
        %td.w3-tag.w3-tag.w3-round.w3-purple
          .index2
            %a{:href=>"#E"} E
        %td.w3-tag.w3-tag.w3-round.w3-white
        %td.w3-tag.w3-tag.w3-round.w3-orange
          .index2
            %a{:href=>"#NS6"} NS6
        %td.w3-tag.w3-tag.w3-round.w3-white
        %td.w3-tag.w3-tag.w3-round.w3-orange
          .index2
            %a{:href=>"#NS7b"} NS7b
        %td.w3-tag.w3-tag.w3-round.w3-white
        %td.w3-tag.w3-tag.w3-round.w3-orange
          .index2
            %a{:href=>"#NS9b"} NS9b
        %td.w3-tag.w3-tag.w3-round.w3-white
        %td.w3-tag.w3-tag.w3-round.w3-orange
          .index2
            %a{:href=>"#NS14"} NS14
        %td.w3-tag.w3-tag.w3-round.w3-white
        %td.w3-tag.w3-tag.w3-round.w3-red
          .index2
            %a{:href=>"#NS10"} NS10
      %tr
        %td.w3-tag.w3-round.w3-dark-grey.w3-center{:colspan => 16} 
          .index1
            %a{:href=>"#R1ab"} R1ab



  %hr.dashed
    %table.w3-table.w3-bordered

      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NSP1
          %table.w3-responsive
            %tr
              %td
                %table.w3-responsive
                  %tr
                    %th Uniprot
                    %th PDB
                    %th EMDB
                    %th Swiss-Model
                  %tr
                    %td
                      =image_tag("https://swissmodel.expasy.org/interactive/YxJyvF/models/01.png", height:150)
                      %h4 NSP1
                      %h5 P0DTD1 - R1A_WCPV
                      %p Host translation Inhibitor, nsp1
                    %td
                    %td
                    %td
                      %a{:href=>'https://swissmodel.expasy.org/interactive/YxJyvF/models/'} Available low quality models

      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NSP2
          %table.w3-responsive
            %tr
              %td
                %table.w3-responsive
                  %tr
                    %th Uniprot
                    %th PDB
                    %th EMDB
                    %th Swiss-Model
                  %tr
                    %td
                      = image_tag("sphere.gif")
                      %h4 NSP2
                      %p Non-structural protein 2
                    %td
                    %td
                    %td
                      %a{:href=>'https://swissmodel.expasy.org/interactive/UrUkRp/models'} Available low quality models
            
      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NSP3
          %table.w3-responsive
            %tr
              %td
                %table.w3-responsive
                  %tr
                    %th Uniprot
                    %th PDB
                    %th EMDB
                    %th pdb-redo
                    %th rebuilt-isolde
                  %tr
                    %td
                      =image_tag("https://swissmodel.expasy.org/interactive/5hYU6g/models/01.png", height:150)
                      %h4 NSP3 / PL-PRO
                      %p Papain-like proteinase
                    %td
                      %a{:href=>'/?queryId=6vxs&viewer_type=ngl&button=#query'}
                        6vxs
                        =image_tag("https://cdn.rcsb.org/images/rutgers/vx/6vxs/6vxs.pdb1-500.jpg", height:100)
                      %a{:href=>'/?queryId=6w02&viewer_type=ngl&button=#query'}
                        6w02
                        =image_tag("https://cdn.rcsb.org/images/rutgers/w0/6w02/6w02.pdb1-500.jpg", height:100)
                      
                      %a{:href=>'/?queryId=6w6y&viewer_type=ngl&button=#query'}
                        6w6y
                        =image_tag("https://cdn.rcsb.org/images/rutgers/w6/6w6y/6w6y.pdb1-500.jpg", height:100)

                      %a{:href=>'/?queryId=6w9c&viewer_type=ngl&button=#query'}
                        6w9c
                        =image_tag("https://cdn.rcsb.org/images/rutgers/w9/6w9c/6w9c.pdb1-500.jpg", height:100)

                    %td
                    %td


              
              
      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NSP4 NSP4
      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NSP5
          %table.w3-responsive
            %tr
              %td
                %table.w3-responsive
                  %tr
                    %th Uniprot
                    %th PDB
                    %th EMDB
                    %th Swiss-Model
                    %th pdb-redo
                    %th rebuilt-isolde
                  %tr
                    %td
                      %h4 3C-like proteinase
                      %ul.w3-ul.w3-card-2
                        %li
                          3CL-PRO

      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NSP6 NSP6
      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NSP7 NSP7
      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NSP8 NSP8
      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NSP9 NSP9
      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NSP10 NSP10
      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NSP11 NSP11
      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NSP12 RNA-directed RNA polymerase (Pol/RdRp)

      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NSP13 NSP13
      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NSP14 NSP14
      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NSP15 NSP15
      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NSP16 NSP16
      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#S
          %table.w3-responsive
            %tr
              %td
                %table.w3-responsive
                  %tr
                    %th Uniprot
                    %th PDB
                    %th EMDB
                    %th Swiss-Model
                    %th pdb-redo
                    %th rebuilt-isolde
                  %tr
                    %td
                      %h4 S glycoprotein
                      %ul.w3-ul.w3-card-2
                        %li
                          Spike glycoprotein
                        %li 
                          =image_tag("https://swissmodel.expasy.org/interactive/7dVLxC/models/03.png", height:150)
                        %li
                          %a{:href=>'https://covid-19.uniprot.org/uniprotkb/P0DTC2'}
                          SPIKE_SARS2
                        %li
                          SPIKE_WCPV
                        %li
                          %a{:href=>'/?queryId=P0DTC2&viewer_type=ngl&button=#query'} P0DTC2
                        
                    %td
                      %a{:href=>'/?queryId=6lvn&viewer_type=ngl&button=#query'}
                        6lvn
                        =image_tag("https://cdn.rcsb.org/images/rutgers/lv/6lvn/6lvn.pdb1-500.jpg", height:100)

                      %a{:href=>'/?queryId=6vsb&viewer_type=ngl&button=#query'}
                        6vsb
                        =image_tag("https://cdn.rcsb.org/images/rutgers/vs/6vsb/6vsb.pdb1-500.jpg", height:100)

                      %a{:href=>'/?queryId=6vxx&viewer_type=ngl&button=#query'}
                        6vxx
                        =image_tag("https://cdn.rcsb.org/images/rutgers/vx/6vxx/6vxx.pdb1-500.jpg", height:100)

                      %a{:href=>'/?queryId=6vyb&viewer_type=ngl&button=#query'}
                        6vyb
                        =image_tag("https://cdn.rcsb.org/images/rutgers/vy/6vyb/6vyb.pdb1-500.jpg", height:100)

                      %a{:href=>'/?queryId=6w41&viewer_type=ngl&button=#query'}
                        6w41
                        =image_tag("https://cdn.rcsb.org/images/rutgers/w4/6w41/6w41.pdb1-500.jpg", height:100)
                    %td
                    %td
                    %td
                    %td
      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NS3a
          %table.w3-responsive
            %tr
              %td
                %table.w3-responsive
                  %tr
                    %th Uniprot
                    %th PDB
                    %th EMDB
                    %th Swiss-Model
                    %th pdb-redo
                    %th rebuilt-isolde
                  %tr
                    %td
                      %h4 NS3a

      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#E
          %table.w3-responsive
            %tr
              %td
                %table.w3-responsive
                  %tr
                    %th Uniprot
                    %th PDB
                    %th EMDB
                    %th Swiss-Model
                    %th pdb-redo
                    %th rebuilt-isolde
                  %tr
                    %td
                      %h4 E
      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#M
          %table.w3-responsive
            %tr
              %td
                %table.w3-responsive
                  %tr
                    %th Uniprot
                    %th PDB
                    %th EMDB
                    %th Swiss-Model
                    %th pdb-redo
                    %th rebuilt-isolde
                  %tr
                    %td
                      %h4 M

      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NS6
          %table.w3-responsive
            %tr
              %td
                %table.w3-responsive
                  %tr
                    %th Uniprot
                    %th PDB
                    %th EMDB
                    %th Swiss-Model
                    %th pdb-redo
                    %th rebuilt-isolde
                  %tr
                    %td
                      %h4 NS6
      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NS3a
          %table.w3-responsive
            %tr
              %td
                %table.w3-responsive
                  %tr
                    %th Uniprot
                    %th PDB
                    %th EMDB
                    %th Swiss-Model
                    %th pdb-redo
                    %th rebuilt-isolde
                  %tr
                    %td
                      %h4 NS3a

      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NS7a
          %table.w3-responsive
            %tr
              %td
                %table.w3-responsive
                  %tr
                    %th Uniprot
                    %th PDB
                    %th EMDB
                    %th Swiss-Model
                    %th pdb-redo
                    %th rebuilt-isolde
                  %tr
                    %td
                      %h4 NS7a
      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NS7b
          %table.w3-responsive
            %tr
              %td
                %table.w3-responsive
                  %tr
                    %th Uniprot
                    %th PDB
                    %th EMDB
                    %th Swiss-Model
                    %th pdb-redo
                    %th rebuilt-isolde
                  %tr
                    %td
                      %h4 NS7b

      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NS8
          %table.w3-responsive
            %tr
              %td
                %table.w3-responsive
                  %tr
                    %th Uniprot
                    %th PDB
                    %th EMDB
                    %th Swiss-Model
                    %th pdb-redo
                    %th rebuilt-isolde
                  %tr
                    %td
                      %h4 NS8
      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NS9b
          %table.w3-responsive
            %tr
              %td
                %table.w3-responsive
                  %tr
                    %th Uniprot
                    %th PDB
                    %th EMDB
                    %th Swiss-Model
                    %th pdb-redo
                    %th rebuilt-isolde
                  %tr
                    %td
                      %h4 NS9b

      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#N
          %table.w3-responsive
            %tr
              %td
                %table.w3-responsive
                  %tr
                    %th Uniprot
                    %th PDB
                    %th EMDB
                    %th Swiss-Model
                    %th pdb-redo
                    %th rebuilt-isolde
                  %tr
                    %td
                      %h4 N
      %tr
        %td.w3-ul.w3-card-2.entry.w3-card-4.test.section#NS14
          %table.w3-responsive
            %tr
              %td
                %table.w3-responsive
                  %tr
                    %th Uniprot
                    %th PDB
                    %th EMDB
                    %th Swiss-Model
                    %th pdb-redo
                    %th rebuilt-isolde
                  %tr
                    %td
                      %h4 NS14

      %tr
  %hr.solid




  .ws_lower_div
    %h4
      External data sources and collaborations
    %ul
      %li
        %a{:href=>'https://www.ebi.ac.uk/ena/pathogens/covid-19'} Pathogens: EMBL-EBI relating to the COVID-19 outbreak
      %li
        %a{:href=>'https://evosalut1.uv.es/'} NextSpain: Spanish site for Nextstrain: Consortium for Genomic Epidemiology of Pathogens.
      %li
        %a{:href=>'https://viralzone.expasy.org/8996'} SARS coronavirus 2 (SARS-CoV-2) proteome
      %li
        %a{:href=>'https://github.com/thorn-lab/coronavirus_structural_task_force'} A. Thon's Coronavirus Structural Task Force
      %li
        %a{:href=>'https://covid-19.uniprot.org/uniprotkb?query=*'} Latest available pre-release UniProtKB data for the SARS-CoV-2
      %li
        %a{:href=>'https://elixir-europe.org/covid-19-resources'} ELIXIR support for SARS-CoV-2 research
      %li
        %a{:href=>'https://www.ebi.ac.uk/covid-19'} EMBL-EBI COVID-19 Portal
      %li
        %a{:href=>'https://viralzone.expasy.org/8996'} SARS coronavirus 2 (SARS-CoV-2) proteome
        

.wait_div{:style=>'display:none'}
  %span.wait_text PLEASE BE PATIENT
  %br
  %br
  =image_tag("loading.gif",size:"300x300")
  %br
  %br
  %span.wait_text THIS PROCESS MAY TAKE A FEW MINUTES
